
for(i in 0 to 10000) {
   roundTrip(i);
}

func roundTrip(count) {
   let url = "http://localhost:9797/instrument/spot-instruments/all";
   let creds = Base64.getEncoder().encodeToString("admin:password12".getBytes());
   let response = URL(url)   
      .header("Authorization", "Basic " + creds)
      .header("Accept", "*/*")
      .get()
      .response();
   
   if(response.status != 200) {
      println("GET ${url}");   
      println(response);
      println();
   }
   let name = Thread.currentThread().getName();
   println("${name}: ${count} ${url}");
}




